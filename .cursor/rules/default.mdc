---
description: 
globs: 
alwaysApply: false
---
# Default Development Rules

These rules apply to all milestones unless a milestone-specific `.mdc` overrides them.

1. **Roadmap as source-of-truth**  
   Update `docs/roadmap.md` whenever tasks are started or completed.  Checkbox status must match the codebase.

2. **Branching**  
   Feature work happens on the active milestone branch (e.g., `m1-dev`). Merge back to `main` only when the milestone is complete and tagged.

3. **CI / GitHub Actions**  
   • Use Node.js 18.  
   • Build with `npm ci` and run `npm run build`.  
   • `BASE_PATH` env var must be set to `/${{ github.event.repository.name }}/` during build.  
   • Fail the workflow if any fetcher exits non-zero.

4. **Component pattern**  
   • All visual components live in `src/components/` and are exported via `src/components/index.js`.  
   • Components should accept props exactly as defined in YAML.

5. **Data folder convention**  
   • Raw or processed JSON lives under `data/auto/`. Files should be referenced via relative imports, not dynamic `fs` reads, so Astro can statically bundle them.

6. **AI Services**  
   • Default provider is a local JavaScript model—no external API keys required.  
   • Avoid token-based providers.

7. **Accessibility & Theming**  
   • Use semantic HTML, `aria-*` where appropriate.  
   • All components must work in light and dark themes (colors via CSS variables).

8. **Testing / Linting**  
   • ESLint and Prettier configs will be added in later milestones; until then, keep code formatted with Prettier defaults.

9. **Never commit secrets**  
   `.env` and other sensitive files are ignored via `.gitignore`.

10. **License & Attribution**  
    Ensure any third-party code or models comply with MIT license compatibility before inclusion.
